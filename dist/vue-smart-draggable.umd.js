(function(a,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(a=typeof globalThis<"u"?globalThis:a||self,e(a.VueSmartDraggable={},a.Vue))})(this,(function(a,e){"use strict";const g=["onDragstart","onDrop","onTouchstart","onTouchend"],u=e.defineComponent({__name:"Draggable",props:{items:{},handle:{},disabled:{type:Boolean}},emits:["update:items","orderChanged"],setup(i,{emit:p}){const n=i,c=p,l=e.ref(null),f=(t,r)=>{if(t===r)return;const o=[...n.items],[s]=o.splice(t,1);o.splice(r,0,s),c("update:items",o),c("orderChanged",o.map((d,T)=>({id:d.id,order:T+1})))},h=(t,r)=>{if(!n.disabled){if(n.handle&&!t.target.closest(n.handle)){t.preventDefault();return}l.value=r}},m=t=>{n.disabled||t.preventDefault()},D=t=>{l.value===null||n.disabled||(f(l.value,t),l.value=null)},b=(t,r)=>{n.disabled||n.handle&&!t.target.closest(n.handle)||(l.value=r)},v=(t,r)=>{l.value===null||n.disabled||(f(l.value,r),l.value=null)};return(t,r)=>(e.openBlock(),e.createElementBlock("div",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.items,(o,s)=>(e.openBlock(),e.createElementBlock("div",{key:o.id,draggable:"true",onDragstart:d=>h(d,s),onDragover:m,onDrop:d=>D(s),onTouchstart:d=>b(d,s),onTouchend:d=>v(d,s)},[e.renderSlot(t.$slots,"default",{item:o,index:s})],40,g))),128))]))}});a.Draggable=u,a.default=u,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
